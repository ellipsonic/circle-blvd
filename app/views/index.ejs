<!doctype html>
<html lang="en" ng-app="myApp">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Circle Blvd.</title>
  
  <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
  <link href='//fonts.googleapis.com/css?family=Headland+One' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="css/app.css">

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <link rel="apple-touch-icon" href="img/logo-on-black-60px.png">
  <link rel="apple-touch-icon" sizes="76x76" href="img/logo-on-black-76px.png">
  <link rel="apple-touch-icon" sizes="120x120" href="img/logo-on-black-120px.png">
  <link rel="apple-touch-icon" sizes="152x152" href="img/logo-on-black-152px.png">
  <link rel="apple-touch-startup-image" href="img/startup-ios.png">

  <!-- TODO: For Android / Chrome
  <link rel="icon" sizes="196x196" href="nice-highres.png">
  -->

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
  <script src="js/lib/modernizr/touch.js"></script>

</head>
<body ng-controller="TopLevelCtrl" ng-keydown="keydown($event)" ng-keyup="keyup($event)">
<div id="topLevel">

 <div class="navbar navbar-inverse topMenu" role="navigation" ng-cloak>
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navigation-circles">
          <span class="sr-only">Show circles</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">O</a>
      <div class="navbar-title visible-xs"><h2>Circle Blvd</h2></div>
    </div>

    <div class="collapse navbar-collapse" id="navigation-circles">
      <ul class="nav navbar-nav">
        <li ng-repeat="circle in circleList()" ng-class="{active: isActiveCircle(circle)}">
          <a class="jsLink" 
            data-toggle="collapse" 
            data-target="#navigation-circles"
            ng-click="setActiveCircle(circle, true)">{{circle.name}}</a>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li ng-show="hasMainframeAccess()"><a 
          data-toggle="collapse" 
          data-target="#navigation-circles"
          href="#/mainframe">Mainframe access</a></li>
        <li><a 
          data-toggle="collapse" 
          data-target="#navigation-circles"
          href="#/docs">Documentation</a></li> 
      </ul>
    </div>
  </div> 
 </div>


<div class="container-fluid main debug">
  <div class="header row debug">
    <!--
    <div class="navbar navbar-default" role="navigation" ng-cloak ng-show="isSignedIn()">
      <div class="container-fluid">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/">Circle Blvd</a></li>
            <li><a href="#/archives">Archives</a></li>
            <li><a href="#/profile">Profile</a></li>
            <li ng-show="isAdmin()"><a href="#/admin">Admin</a></li>
            
            <li><a class="jsLink" ng-click="signOut()">Sign out</a></li>
          </ul>
      </div>
    </div>
     -->

    <h2 class="debug hidden-xs col-sm-3 title"><a href="/">Circle&nbsp;Blvd.</a></h2>
    <!-- <ul class="menu col-xs-2 col-md-4" ng-show="!isSignedIn()">
       <li><a href="#/signin">Sign in</a></li>
    </ul> -->

    <ul class="menu visible-xs debug" ng-if="isSignedIn()">
      <li><a href="/">List</a></li>
      <li><a href="#/archives">Archives</a></li>
      <li><a href="#/profile">Profile</a></li>
      <li ng-show="isAdmin()"><a href="#/admin">Admin</a></li>
      
      <li><a class="jsLink" ng-click="signOut()">Sign out</a></li>
    </ul> 

    <!-- TODO: This duplicate menu is lame. -->
    <ul class="menu hidden-xs col-sm-9 debug" ng-show="isSignedIn()">
      <li><a href="#/archives">Archives</a></li>
      <li><a href="#/profile">Profile</a></li>
      <li ng-show="isAdmin()"><a href="#/admin">Admin</a></li>
      
      <li><a class="jsLink" ng-click="signOut()">Sign out</a></li>
    </ul> 
  </div>
  <div class="view" ng-view></div>
</div>

<div class="footer hidden-xs">circle boulevard . v<span app-version></span> . 
  <a href="https://github.com/secret-project/circle-blvd">source code</a> on GitHub .
  <span>some icons, courtesy <a href="http://www.glyphicons.com">Glyphicons</a></span>
</div>

<div class="footer visible-xs">
  <div>circle boulevard . v<span app-version></span></div>
  <div><span>some icons, courtesy <a href="http://www.glyphicons.com">Glyphicons</a></span></div>
  <div><a href="https://github.com/secret-project/circle-blvd">source code</a> on GitHub</div>
</div>

</div>

  <!-- In production use:
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.2/angular.min.js"></script>
  -->
  <script src="js/lib/angular/angular.js"></script>
  <script src="js/lib/angular/angular-route.js"></script>
  <script src="js/lib/angular/angular-sanitize.js"></script>
  <script src="js/lib/store/store.min.js"></script>

  <script src="js/lib/yui/dd-dependencies.js"></script>
  <script src="js/lib/yui/dd.js"></script>
  
  <script src="js/lib/autosize/jquery.autosize.min.js"></script>
  <script src="js/lib/typeahead/0.10.2.js"></script>

  <script src="js/app.js"></script>
  
  <script src="js/services/hacks.js"></script>
  <script src="js/services/signInName.js"></script>
  <script src="js/services/session.js"></script>
  <script src="js/services/stories.js"></script>
  <script src="js/services.js"></script>

  <script src="js/controllers/topLevel.js"></script>
  <script src="js/controllers.js"></script>
  <script src="js/controllers/story.js"></script>
  <script src="js/controllers/storyList.js"></script>
  <script src="js/controllers/home.js"></script>
  <script src="js/controllers/signin.js"></script>
  <script src="js/controllers/archive.js"></script>
  <script src="js/controllers/profile.js"></script>
  <script src="js/controllers/docs.js"></script>
  <script src="js/controllers/admin.js"></script>
  <script src="js/controllers/mainframe.js"></script>
  <script src="js/controllers/fix.js"></script>
  <script src="js/filters.js"></script>
  <script src="js/directives.js"></script>
  <script src="https://checkout.stripe.com/checkout.js"></script>
</body>
</html>
<p>:-)</p>
<button ng-click="debug()">Debug</button>

<div id="new-story" class="story">
	<form>
		<span class="span1 story-id">+</span>
		<input type="text" 
			ng-model="newStory.summary"/>
		<button class="btn" ng-click="create(newStory)">Add story</button>
	</form>
</div>
<div id="backlog" ng-click="deselectAll()">
	<div class="story" ng-repeat="story in stories" ng-click="select(story)"
		ng-class="{ 
			selected: story.isSelected, 
			'not-selected': !story.isSelected,
			first: story.isFirstStory 
		}"
		data-story-id="{{story.id}}">
		<div class="span2 story-id">{{story.id | slice:5 }} (next: {{story.nextId | slice:5}}) </div>
		<div class="selected" ng-show="story.isSelected">
			<form ng-submit="save(story)">
				<input id="boxForStory{{story.id}}" type="text" ng-model="story.summary"/>
				<button class="btn pull-right" type="button" ng-click="remove(story)">Remove</button>
			</form>
		</div>
		<span class="not-selected" ng-show="!story.isSelected">{{story.summary}}</span>
	</div>
</div>
